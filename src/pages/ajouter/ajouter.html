<!--
  Generated template for the AjouterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-toolbar position color="yellowAK">
    <ion-title> CoolDeary </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span ion-text color="ligth" showWhen="ios">
          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
        </span>
        <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding class="my-view-form">

  <ion-card style="margin-left:0px; margin-top:0px; width:100%;">
    <img src="{{meal.mealImage}}" imageViewer class="img">
  </ion-card>
  <form [formGroup]="todo" (ngSubmit)="shareMeal($event)">
    <ion-card style="margin-left:0px; margin-top:0px; width:100%;">
      <ion-list>
        <ion-label style="margin-left: 8px;" stacked> Meal Name :</ion-label>
        <ion-input type="text" placeholder="Enter a name" formControlName="mealName" autocomplete="on" autocorrect="on" clearInput="true"></ion-input>
        <hr>
        <div *ngIf="todo.controls.mealName.errors  && todo.controls.mealName.dirty">
          <small item-content class="errorMessage">
            You have entered an incorrect meal name. Please correct with name between [3..15] characters.
          </small>
          <hr>
        </div>

        <ion-label style="margin-left: 8px;" stacked>Quantity:</ion-label>
        <ion-input type="number" placeholder="Enter a quantity of meals" formControlName="numberDishes"></ion-input>
        <hr>
        <div *ngIf="todo.controls.numberDishes.errors  && todo.controls.numberDishes.dirty">
          <small item-content class="errorMessage">
            You have entered an incorrect number of dishes. Please correct.
          </small>
          <hr>
        </div>

        <ion-label style="margin-left: 8px;" stacked>Meal Price:</ion-label>
        <ion-input type="number" placeholder="Enter a price" formControlName="mealPrice"></ion-input>
        <hr>
        <div *ngIf="todo.controls.mealPrice.errors  && todo.controls.mealPrice.dirty">
          <small item-content class="errorMessage">
            You have entered an incorrect meal price. Please correct.
          </small>
          <hr>
        </div>

        <ion-label style="margin-left: 8px;" stacked>Description</ion-label>
        <ion-textarea placeholder="Enter a description" rows="5" cols="50" formControlName="mealDescription"></ion-textarea>
        <hr>
        <div *ngIf="todo.controls.mealDescription.errors  && todo.controls.mealDescription.dirty">
          <small item-content class="errorMessage">
            You have entered an incorrect meal price. Please correct.
          </small>
          <hr>
        </div>

      </ion-list>

    </ion-card>
    <button ion-button color="yellowAK" round full icon-left [disabled]="!todo.valid" type="submit">

      <img src="images/repas.png" width="35" height="35"> Share Your Meal</button>

  </form>

</ion-content>
